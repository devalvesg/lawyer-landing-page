---
interface Props {
  text: string;
  name: string;
  role: string;
  delay?: number;
}

const { text, name, role, delay = 0 } = Astro.props;
---

<article class="testimonial-card" style={`animation-delay: ${delay}ms;`}>
  <div class="stars">
    {Array(5).fill(0).map(() => (
      <svg class="star" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
    ))}
  </div>

  <blockquote class="testimonial-text">
    "{text}"
  </blockquote>

  <div class="testimonial-author">
    <span class="author-name">{name}</span>
    <span class="author-role">{role}</span>
  </div>
</article>

<style>
  .testimonial-card {
    background: var(--white-5);
    border: 1px solid var(--gold);
    border-radius: var(--radius-md);
    padding: var(--space-8);
    transition: all var(--transition-base);
    opacity: 0;
    animation: fadeInUp 0.6s ease forwards;
  }

  .testimonial-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }

  .stars {
    display: flex;
    gap: var(--space-1);
    margin-bottom: var(--space-6);
  }

  .star {
    width: 20px;
    height: 20px;
    color: var(--gold);
  }

  .testimonial-text {
    font-family: var(--font-body);
    font-size: var(--text-base);
    font-style: italic;
    line-height: var(--leading-relaxed);
    color: var(--gray-400);
    margin-bottom: var(--space-6);
    border: none;
    padding: 0;
  }

  .testimonial-author {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    padding-top: var(--space-4);
    border-top: 1px solid rgba(212, 175, 55, 0.3);
  }

  .author-name {
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--white);
  }

  .author-role {
    font-size: var(--text-sm);
    color: var(--gray-500);
  }

  @media (max-width: 768px) {
    .testimonial-card {
      padding: var(--space-6);
    }

    .testimonial-text {
      font-size: var(--text-sm);
    }
  }
</style>
